{% extends "base_private.html" %}

{% block scripts %} 

	<script language="Javascript" type="text/javascript">

    function run()
    {
        var diary = '{{ diary | safe }}';
        var diary_obj = JSON.parse(diary);

        var data = {"first": "simon"};

/*        console.log(data.first);*/

/*        console.log( diary_obj[0].date );*/
/*        console.log( diary_obj[1].date );*/
/*        console.log(  document.getElementById("date").value );*/

        var current_id = document.getElementById("journey_id").value

/*        alert(JSON.stringify( diary ))*/
        for (var entry in diary_obj)
        {
            if (diary_obj[entry].id == current_id)
            {
                console.log (diary_obj[entry])
                
                document.getElementById("date").value = diary_obj[entry].date
                document.getElementById("time").value = diary_obj[entry].time
                document.getElementById("origin").value = diary_obj[entry].origin
                document.getElementById("destination").value = diary_obj[entry].destination
                document.getElementById("overall_rating").value = diary_obj[entry].overall_rating

                break;
            }
        }

    }
    
	</script>

{% endblock %}

{% block title%}Your Journey Diary{% endblock %}

{% block content %}
    
    <div class="page-header">
    <h1>Your Journey Diary <small>Review existing entries</small></h1>
    </div>
    
  <div class="row">
    <div class="span6">   
    
    <form class="form-horizontal">
    
    <div class="control-group">
    
        <div class="control-group">
        <label class="control-label" for="entries">Select a journey</label>
            <div class="controls">
                <select class="input-large" name="journey_id" id="journey_id" onchange="run()">
                    {% for entry in diary_entries %}
                    <option value="{{ entry.id }}" > {{ entry.id }} </option>
                    {% endfor %}
                </select>
            </div>
        </div>

         <div class="control-group">
            <label class="control-label" for="date">Date</label>
            <div class="controls">
                <input class="input-large uneditable-input" name="date" id="date" value="{{ diary_entries[0].date }}"></input>
            </div>
        </div>


        <div class="control-group">
            <label class="control-label" for="time">Time</label>
            <div class="controls">
                <input class="input-large uneditable-input" name="time" id="time" value="{{ diary_entries[0].time }}"></input>
            </div>
        </div>


        <div class="control-group">
            <label class="control-label" for="origin">Origin</label>
            <div class="controls">
                <input class="input-large uneditable-input" name="origin" id="origin" value="{{ diary_entries[0].origin }}"></input>
            </div>
        </div>

        <div class="control-group">
            <label class="control-label" for="destination">Destination</label>
            <div class="controls">
                <input class="input-large uneditable-input" name="destination" id="destination" value="{{ diary_entries[0].destination }}"></input>
            </div>
        </div>
        
        <div class="control-group">
            <label class="control-label" for="overall_rating">Overall Journey Rating</label>
            <div class="controls">
                <input class="input-large uneditable-input" name="overall_rating" id="overall_rating" value="{{ diary_entries[0].overall_rating }}"></input>
            </div>
        </div>
        
        <legend>Journey Legs</legend>
        
        <div class="control-group">
        <label class="control-label" for="legs">Select a Leg</label>
            <div class="controls">
                <select class="input-large">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                </select>
            </div>
        </div>


        <div class="control-group">
            <label class="control-label" for="mode">Travel Mode for this leg</label>
            <div class="controls">
                <span class="input-large uneditable-input">Some value here</span>
            </div>
        </div>
        
        <div class="control-group">
            <label class="control-label" for="leg_rating">Rating for this leg</label>
            <div class="controls">
                <span class="input-large uneditable-input">
                    <i class="icon-star"></i>
                    <i class="icon-star"></i>
                    <i class="icon-star"></i>
                    <i class="icon-star"></i>
                    <i class="icon-star"></i>
                </span>
            </div>
        </div>

    </div>
        
    </form>
    

    </div>
    
    <div class="span6">
    
    
    <div class="control-group">
        <label class="control-label" for="entries">Notes</label>
            <div class="controls">
                <textarea rows="15" readonly class="input-block-level"></textarea>
            </div>
        </div>
    
  </div>
{% endblock %}
